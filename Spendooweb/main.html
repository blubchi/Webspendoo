<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spendoo | Home</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- === NAVBAR === -->
  <header class="navbar">
    <div class="navbar-left">
      <h1 class="logo">Spendoo</h1>
      <nav class="nav-links">
        <a href="#" class="active">Home</a>
        <a href="#">History</a>
        <a href="#">Analyze</a>
        <a href="#">FAQ</a>
      </nav>
    </div>

    <div class="navbar-right">
      <div class="profile" id="profileBox">
        <img id="profilePic" src="assets/img/user.png" alt="Profil" class="profile-img" />
        <span id="userName" class="username">Loading...</span>

        <!-- Dropdown Menu (Teks diperbaiki) -->
        <div class="profile-menu">
          <a href="#">Pengaturan</a>
          <a href="#">Export Data</a>
          <a href="#">Laporan</a>
          <a href="#">Kredit</a>
          <a id="logoutBtn" href="#">Logout</a>
        </div>
      </div>
    </div>
  </header>

  <!-- === MAIN CONTENT === -->
  <main class="main-content">
    <!-- Konten dashboard utama -->
    <div id="page-home" class="dashboard-container">
      <!-- Kartu Saldo -->
      <div class="balance-card">
        <h2 class="balance-title">Available Balance</h2>
        <p id="balance-amount" class="balance-amount">Rp0</p>
        <p class="balance-greeting">Hi, <span id="user-greeting-name">User</span>!</p>
      </div>

      <!-- Transaksi Terkini -->
      <div class="transactions-section">
        <h3 class="section-title">Recent Transactions</h3>
        <div id="transaction-list" class="transaction-list-container">
          <!-- Data transaksi akan diisi oleh JS -->
          <p id="no-transaction-msg" class="no-transaction">No transaction</p>
        </div>
      </div>
    </div>

    <!-- Tombol Tambah Transaksi (FAB) -->
    <button id="fab-add-tx" class="fab-add">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#1C1B23" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
    </button>
  </main>

  <!-- ===== HALAMAN TAMBAH/EDIT TRANSAKSI (OVERLAY) ===== -->
  <div id="page-tx" class="tx-page-overlay">
    <div class="tx-page-content">
      <!-- Header Halaman -->
      <header class="tx-page-header">
        <button id="btn-back-to-home" class="tx-page-back-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
        </button>
        <h2 id="tx-page-title" class="tx-page-title">Add Transaction</h2>
        <button id="btn-delete-tx" class="tx-page-delete-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
        </button>
      </header>

      <!-- Konten Form -->
      <div class="tx-page-form-container">
        <!-- Toggle Income/Expense -->
        <div class="tx-type-toggle">
          <button id="btn-tx-type-income" class="tx-type-btn">Income</button>
          <button id="btn-tx-type-expense" class="tx-type-btn">Expense</button>
        </div>

        <!-- Input Tanggal & Waktu -->
        <div class="datetime-inputs">
          <button id="btn-open-datepicker" class="datetime-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#B0B0B0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            <span id="tx-date-display">November 05, 2025</span>
          </button>
          <button id="btn-open-timepicker" class="datetime-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#B0B0B0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            <span id="tx-time-display">12:00 PM</span>
          </button>
        </div>

        <!-- Input Form -->
        <div class="form-inputs">
          <!-- Amount -->
          <div class="form-input-group">
            <label for="tx-amount">Amount</label>
            <div class="amount-input-wrapper">
              <span>Rp</span>
              <input type="number" id="tx-amount" placeholder="0">
            </div>
          </div>
          <!-- Category -->
          <div class="form-input-group">
            <label for="tx-category">Category</label>
            <input type="text" id="tx-category" placeholder="Select category" readonly>
          </div>
          <!-- Payment Method (Sekarang akan selalu tampil) -->
          <div id="payment-method-container" class="form-input-group">
            <label for="tx-payment">Payment Method</label>
            <input type="text" id="tx-payment" placeholder="Select payment method" readonly>
          </div>
        </div>
      </div>

      <!-- Tombol Save -->
      <div class="tx-page-footer">
        <button id="btn-save-tx" class="save-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#1C1B23" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>
          Save
        </button>
      </div>
    </div>
  </div>

  <!-- ===== MODALS ===== -->

  <!-- Modal Peringatan -->
  <div id="alert-modal" class="modal-backdrop hidden">
    <div class="modal-content-alert">
      <h3 id="alert-title">Peringatan</h3>
      <p id="alert-message">Pesan error.</p>
      <button id="btn-close-alert" class="modal-alert-btn">Tutup</button>
    </div>
  </div>

  <!-- Modal Kategori -->
  <div id="category-modal" class="modal-backdrop hidden">
    <div id="category-modal-content" class="modal-content-sheet">
      <div class="modal-sheet-header">
        <h3 id="category-modal-title">Category Income</h3>
        <button id="btn-close-category-modal" class="modal-sheet-close">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#1C1B23" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
      </div>
      <div id="category-grid" class="modal-sheet-grid">
        <!-- Kategori diisi oleh JS -->
      </div>
    </div>
  </div>

  <!-- Modal Metode Pembayaran -->
  <div id="payment-modal" class="modal-backdrop hidden">
    <div id="payment-modal-content" class="modal-content-sheet">
      <div class="modal-sheet-header">
        <h3 class="modal-sheet-title">Payment Method</h3>
        <button id="btn-close-payment-modal" class="modal-sheet-close">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#1C1B23" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
      </div>
      <div id="payment-grid" class="modal-sheet-grid">
        <!-- Metode pembayaran diisi oleh JS -->
      </div>
    </div>
  </div>

  <!-- Modal Date Picker -->
  <div id="datepicker-modal" class="modal-backdrop hidden">
    <div class="modal-content-datepicker">
      <div class="datepicker-header">
        <button id="datepicker-prev-month">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
        </button>
        <div id="datepicker-month-year">November 2025</div>
        <button id="datepicker-next-month">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
        </button>
      </div>
      <div class="datepicker-weekdays">
        <div>SEN</div>
        <div>SEL</div>
        <div>RAB</div>
        <div>KAM</div>
        <div>JUM</div>
        <div>SAB</div>
        <div>MIN</div>
      </div>
      <div id="datepicker-days-grid" class="datepicker-days-grid">
        <!-- Hari diisi oleh JS -->
      </div>
    </div>
  </div>

  <!-- Modal Time Picker -->
  <div id="timepicker-modal" class="modal-backdrop hidden">
    <div class="modal-content-timepicker">
      <h3 class="timepicker-title">Time Picker</h3>
      <div class="timepicker-controls">
        <!-- Jam -->
        <div class="timepicker-column">
          <button id="time-hour-up" class="timepicker-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>
          </button>
          <span id="time-hour-display">12</span>
          <button id="time-hour-down" class="timepicker-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
          </button>
        </div>
        <span class="timepicker-separator">:</span>
        <!-- Menit -->
        <div class="timepicker-column">
          <button id="time-minute-up" class="timepicker-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>
          </button>
          <span id="time-minute-display">00</span>
          <button id="time-minute-down" class="timepicker-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
          </button>
        </div>
        <!-- AM/PM -->
        <div class="timepicker-ampm">
          <button id="time-ampm-am">AM</button>
          <button id="time-ampm-pm">PM</button>
        </div>
      </div>
      <button id="btn-set-time" class="modal-set-btn">Set Time</button>
    </div>
  </div>

  <!-- === JS === -->
  <script type="module" src="main.js"></script>
</body>
</html>
